apiVersion: grizzly.grafana.com/v1alpha1
kind: Dashboard
metadata:
    folder: general
    name: 56c0b19d-7bf9-4478-9042-882a4f1f900f
spec:
    annotations:
        list:
            - builtIn: 1
              datasource:
                type: grafana
                uid: -- Grafana --
              enable: true
              hide: true
              iconColor: rgba(0, 211, 255, 1)
              name: Annotations & Alerts
              type: dashboard
    editable: true
    fiscalYearStartMonth: 0
    graphTooltip: 0
    links: []
    panels:
        - datasource:
            type: frser-sqlite-datasource
            uid: feyisdz5ybdoge
          fieldConfig:
            defaults:
                color:
                    mode: thresholds
                custom:
                    align: auto
                    cellOptions:
                        type: auto
                    footer:
                        reducers: []
                    hideFrom:
                        viz: false
                    inspect: false
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                          value: 0
                        - color: red
                          value: 80
            overrides:
                - matcher:
                    id: byName
                    options: start_date
                  properties:
                    - id: custom.width
                      value: 132
                - matcher:
                    id: byName
                    options: cnt
                  properties:
                    - id: custom.width
                      value: 86
                - matcher:
                    id: byName
                    options: end_date
                  properties:
                    - id: custom.width
                      value: 256
          gridPos:
            h: 8
            w: 12
            x: 0
            "y": 0
          id: 6
          options:
            cellHeight: sm
            showHeader: true
          pluginVersion: 12.3.0-17814087142
          targets:
            - datasource:
                type: frser-sqlite-datasource
                uid: feyisdz5ybdoge
              queryText: |
                SELECT provider as 'Provider', sum(stat_val1) as 'Count', sum(stat_val2) as 'Kilometres' from stats
                where DATE(start_date) < DATE('now') and DATE(end_date) > DATE('now')
                and DATE(end_date) > DATE(start_date, '+11 months') -- remove quarterly data
                and stat_name = 'borehole_cnt_kms'
                group by provider
                order by provider
                --SELECT * from stats;
              queryType: table
              rawQueryText: |
                SELECT provider as 'Provider', sum(stat_val1) as 'Count', sum(stat_val2) as 'Kilometres' from stats
                where DATE(start_date) < DATE('now') and DATE(end_date) > DATE('now')
                and DATE(end_date) > DATE(start_date, '+11 months') -- remove quarterly data
                and stat_name = 'borehole_cnt_kms'
                group by provider
                order by provider
                --SELECT * from stats;
              refId: A
              timeColumns: []
          title: Borehole Count and Kilometres Scanned for this FY
          type: table
        - datasource:
            type: frser-sqlite-datasource
            uid: feyisdz5ybdoge
          fieldConfig:
            defaults:
                color:
                    mode: palette-classic
                custom:
                    axisBorderShow: false
                    axisCenteredZero: false
                    axisColorMode: text
                    axisLabel: ""
                    axisPlacement: auto
                    fillOpacity: 80
                    gradientMode: none
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                    lineWidth: 1
                    scaleDistribution:
                        type: linear
                    thresholdsStyle:
                        mode: "off"
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                          value: 0
                        - color: red
                          value: 80
            overrides: []
          gridPos:
            h: 9
            w: 12
            x: 12
            "y": 0
          id: 2
          options:
            barRadius: 0
            barWidth: 0.97
            fullHighlight: false
            groupWidth: 0.7
            legend:
                calcs: []
                displayMode: list
                placement: bottom
                showLegend: true
            orientation: auto
            showValue: auto
            stacking: none
            tooltip:
                hideZeros: false
                mode: single
                sort: none
            xTickLabelRotation: 0
            xTickLabelSpacing: 0
          pluginVersion: 12.3.0-17814087142
          targets:
            - datasource:
                type: frser-sqlite-datasource
                uid: feyisdz5ybdoge
              queryText: select distinct provider, count(distinct borehole_id) as "borehole count" from meas group by provider;
              queryType: table
              rawQueryText: select distinct provider, count(distinct borehole_id) as "borehole count" from meas group by provider;
              refId: A
              timeColumns: []
          title: Provider borehole count bar graph
          type: barchart
        - datasource:
            type: frser-sqlite-datasource
            uid: feyisdz5ybdoge
          fieldConfig:
            defaults:
                color:
                    mode: thresholds
                custom:
                    align: auto
                    cellOptions:
                        type: auto
                    footer:
                        reducers: []
                    hideFrom:
                        viz: false
                    inspect: false
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                          value: 0
                        - color: red
                          value: 80
            overrides:
                - matcher:
                    id: byName
                    options: start_date
                  properties:
                    - id: custom.width
                      value: 132
                - matcher:
                    id: byName
                    options: cnt
                  properties:
                    - id: custom.width
                      value: 86
                - matcher:
                    id: byName
                    options: end_date
                  properties:
                    - id: custom.width
                      value: 256
          gridPos:
            h: 8
            w: 12
            x: 0
            "y": 8
          id: 7
          options:
            cellHeight: sm
            showHeader: true
          pluginVersion: 12.3.0-17814087142
          targets:
            - datasource:
                type: frser-sqlite-datasource
                uid: feyisdz5ybdoge
              queryText: |
                SELECT provider as 'Provider', sum(stat_val1) as 'Count', sum(stat_val2) as 'Kilometres' from stats
                where DATE(start_date) < DATE('now') and DATE(end_date) > DATE('now')
                and DATE(end_date) < DATE(start_date, '+4 months') -- remove yearly data
                and stat_name = 'borehole_cnt_kms'
                group by provider
                order by provider
                --SELECT * from stats;
              queryType: table
              rawQueryText: |
                SELECT provider as 'Provider', sum(stat_val1) as 'Count', sum(stat_val2) as 'Kilometres' from stats
                where DATE(start_date) < DATE('now') and DATE(end_date) > DATE('now')
                and DATE(end_date) < DATE(start_date, '+4 months') -- remove yearly data
                and stat_name = 'borehole_cnt_kms'
                group by provider
                order by provider
                --SELECT * from stats;
              refId: A
              timeColumns: []
          title: Borehole Count and Kilometres Scanned for this Quarter
          type: table
        - fieldConfig:
            defaults: {}
            overrides: []
          gridPos:
            h: 8
            w: 12
            x: 0
            "y": 16
          id: 5
          options:
            includeVars: false
            keepTime: false
            maxItems: 10
            query: ""
            showFolderNames: false
            showHeadings: false
            showRecentlyViewed: false
            showSearch: true
            showStarred: false
            tags:
                - dashboardlist
          pluginVersion: 12.3.0-17814087142
          title: Other NVCL Dashboards
          type: dashlist
    preload: false
    schemaVersion: 42
    tags: []
    templating:
        list: []
    time:
        from: now-6h
        to: now
    timepicker:
        hidden: true
    timezone: browser
    title: Main NVCL Dashboard
    uid: 56c0b19d-7bf9-4478-9042-882a4f1f900f
